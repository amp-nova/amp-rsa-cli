{ 
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$id": "{{cms.contentBaseUri}}/component-dynamic-blog-list.json",

    "title": "Dynamic Blog List",
    "description": "",

    "allOf": [{
        "$ref": "http://bigcontent.io/cms/schema/v1/core#/definitions/content"
    }],

    "type": "object",
    "properties": {
        "header": {
            "title": "Header",
            "allOf": [
                { "$ref": "http://bigcontent.io/cms/schema/v1/localization#/definitions/localized-string" }
            ]
        },
        "tags": {
            "title": "Filters",
            "type": "array",
            "ui:extension": {
                "name": "hierarchy-picker",
                "params": {
                    "nodeId": "508184f7-6833-42d7-a659-3f59e71f73a2"
                }
            },
            "items": {
                "allOf": [{
                        "$ref": "http://bigcontent.io/cms/schema/v1/core#/definitions/content-reference"
                    },
                    {
                        "properties": {
                            "contentType": {
                                "enum": [
                                    "{{cms.contentBaseUri}}/taxonomy-tag.json"
                                ]
                            }
                        }
                    }
                ]
            }
        },
        "numItems": {
            "type": "integer",
            "minimum": 0,
            "maximum": 12,
            "title": "Number of Items",
            "description": "The number of blog posts to bring back"
        }
    },

    "propertyOrder": [
        "header",
        "indexName",
        "query",
        "numItems",
        "component"
    ]
}